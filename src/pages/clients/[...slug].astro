---
import { getCollection } from "astro:content";
import ClientItemLayout from "@/layouts/ClientItemLayout.astro";

export async function getStaticPaths() {
  const workEntries = await getCollection("clients");
  return workEntries.map(work => ({
    params: { slug: work.slug },
    props: { work },
  }));
}

const { work } = Astro.props;
const { Content } = await work.render();
---

<ClientItemLayout frontmatter={{ title: work.data.title }} {work}>
  <Content />
</ClientItemLayout>
